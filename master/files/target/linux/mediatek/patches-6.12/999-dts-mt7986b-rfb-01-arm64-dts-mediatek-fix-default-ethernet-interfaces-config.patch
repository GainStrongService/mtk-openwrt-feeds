From e45d61de9a0cdcb1c069d74077bb2f0b171e2961 Mon Sep 17 00:00:00 2001
From: Mason Chang <mason-cw.chang@mediatek.com>
Date: Tue, 9 Dec 2025 19:56:13 +0800
Subject: [PATCH] dts: mediatek: fix default ethernet interfaces config

---
 arch/arm64/boot/dts/mediatek/mt7986b-rfb.dts | 36 ++++++++++++--------
 1 file changed, 21 insertions(+), 15 deletions(-)

diff --git a/arch/arm64/boot/dts/mediatek/mt7986b-rfb.dts b/arch/arm64/boot/dts/mediatek/mt7986b-rfb.dts
index 58f77d9..16c4854 100644
--- a/arch/arm64/boot/dts/mediatek/mt7986b-rfb.dts
+++ b/arch/arm64/boot/dts/mediatek/mt7986b-rfb.dts
@@ -48,19 +48,30 @@ fixed-link {
 	gmac1: mac@1 {
 		compatible = "mediatek,eth-mac";
 		reg = <1>;
-		phy-mode = "rgmii";
-
-		fixed-link {
-			speed = <1000>;
-			full-duplex;
-			pause;
-		};
+		phy-mode = "2500base-x";
+		phy-handle = <&phy6>;
 	};
 
 	mdio: mdio-bus {
 		#address-cells = <1>;
 		#size-cells = <0>;
 
+		reset-gpios = <&pio 6 1>;
+		reset-delay-us = <600>;
+		reset-post-delay-us = <20000>;
+
+		phy5: phy@5 {
+			compatible = "ethernet-phy-ieee802.3-c45";
+			reg = <5>;
+			phy-mode = "2500base-x";
+		};
+
+		phy6: phy@6 {
+			compatible = "ethernet-phy-ieee802.3-c45";
+			reg = <6>;
+			phy-mode = "2500base-x";
+		};
+
 		switch@0 {
 			compatible = "mediatek,mt7531";
 			reg = <31>;
@@ -97,14 +108,9 @@ port@4 {
 
 				port@5 {
 					reg = <5>;
-					ethernet = <&gmac1>;
-					phy-mode = "rgmii";
-
-					fixed-link {
-						speed = <1000>;
-						full-duplex;
-						pause;
-					};
+					label = "lan5";
+					phy-mode = "2500base-x";
+					phy-handle = <&phy5>;
 				};
 
 				port@6 {
-- 
2.45.2

